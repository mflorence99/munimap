<button (click)="reset()" class="reloader" mat-icon-button>
  <fa-icon [icon]="['fas', 'sync']" size="lg"></fa-icon>
</button>

<header class="header">
  <figure class="icon">
    <fa-icon [icon]="['fad', 'map']" size="2x"></fa-icon>
  </figure>
  <p class="title">Legend</p>
  <p class="subtitle">Color-coded land use</p>
</header>

<table class="form legend">
  <tbody>
    <ng-container
      *ngFor="let usage of registry.list('parcel', 'usage'); trackBy: trackByUsage"
    >
      <tr *ngIf="['500', '501', '502'].includes(usage[0])">
        <td class="usage">
          <figure
            [style.backgroundColor]="'rgba(var(--map-parcel-fill-u' + usage[0] + '), 0.5)'"
            class="key"
          ></figure>
        </td>
        <td class="desc">{{ usage[1].decoding }}</td>
      </tr>
    </ng-container>

    <tr>
      <td colspan="2"></td>
    </tr>

    <tr>
      <td class="des" colspan="2">
        <article class="keys">
          DES

          <figure class="key">
            <div [style.backgroundColor]="floodplain" class="icon"></div>
            <figcaption>FEMA Floodplain</figcaption>
          </figure>

          <figure class="key">
            <div
              [style.backgroundImage]="'url(\'' + wetland.getImage().toDataURL() +  '\')'"
              class="icon"
            ></div>
            <figcaption>Wetland</figcaption>
          </figure>
        </article>
      </td>
    </tr>

    <tr>
      <td colspan="2"></td>
    </tr>

    <tr>
      <td class="help">
        <fa-icon [icon]="['fas', 'question-circle']" size="2x"></fa-icon>
      </td>
      <td class="desc">
        <a href="mailto:munimap.helpdesk@gmail.com" target="_blank"
          >munimap.helpdesk@gmail.com</a
        >
      </td>
    </tr>
  </tbody>
</table>
