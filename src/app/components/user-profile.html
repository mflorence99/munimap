<mat-card class="card">
  <mat-card-header>
    <ngx-avatar
      [gravatarId]="user.photoURL ? null : user.email"
      [initialsSize]="2"
      [name]="user.displayName"
      [round]="true"
      [size]="48"
      [src]="user.photoURL"
      mat-card-avatar
    ></ngx-avatar>
    <mat-card-title>{{ user.displayName }}</mat-card-title>
    <mat-card-subtitle>{{ user.email }}</mat-card-subtitle>
    <button (click)="editMode = !editMode" mat-icon-button>
      <mat-icon>edit</mat-icon>
    </button>
  </mat-card-header>

  <mat-card-content *ngIf="editMode" class="form">
    <mat-form-field appearance="standard">
      <mat-label>Display Name</mat-label>
      <input [(ngModel)]="user.displayName" matInput type="text" />
    </mat-form-field>

    <mat-form-field appearance="standard">
      <mat-label>Workgroup</mat-label>
      <textarea
        [(ngModel)]="profile.workgroup"
        cdkTextareaAutosize
        matInput
      ></textarea>
    </mat-form-field>
  </mat-card-content>

  <mat-card-actions align="end">
    <button *ngIf="editMode" (click)="update(user, profile)" mat-button>
      Update
    </button>
    <button (click)="logout()" mat-button>Sign out</button>
  </mat-card-actions>
</mat-card>
