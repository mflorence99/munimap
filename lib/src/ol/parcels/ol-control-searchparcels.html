<article class="control">
  <fa-icon [icon]="['fas', 'search']"></fa-icon>

  <input
    #theSearcher
    (focus)="onSearch($event.srcElement.value)"
    (input)="onSearch($event.srcElement.value)"
    class="searcher"
    placeholder="Search by parcel, address or owner" />

  <button
    (click)="theSearcher.value = ''"
    [ngStyle]="{ visibility: theSearcher.value ? 'visible' : 'hidden' }"
    mat-icon-button>
    <fa-icon [icon]="['fas', 'times']" class="closer"></fa-icon>
  </button>
</article>

<ul [class.hidden]="matches.length === 0 || !theSearcher.value" class="matcher">
  @for (match of matches; track match.key) {
  <li (click)="onSearch(match.key)" class="match">
    <div class="key">{{ match.key }}</div>
    @if (match.count > 1) {
    <div class="count">({{ match.count }})</div>
    }
  </li>
  }
</ul>
