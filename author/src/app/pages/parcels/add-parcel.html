<header class="header">
  <figure class="icon">
    <fa-icon [icon]="['fad', 'plus-square']" size="2x"></fa-icon>
  </figure>

  <p class="title">New parcel</p>
</header>

<form
  #additionForm="ngForm"
  (keydown.escape)="cancel()"
  (submit)="save(addition)"
  class="form"
  id="additionForm"
  novalidate
  spellcheck="false"
>
  <p class="instructions">
    Specify the ID and acreage of the new parcel. After <em>SAVE</em>, use
    <em>Redraw parcel boundary</em> and <em>Modify parcel settings</em> to
    complete the addition.
  </p>

  <article class="addition">
    <mat-form-field>
      <mat-label>Parcel ID</mat-label>
      <input
        #parcelID="ngModel"
        [(ngModel)]="addition.id"
        [appAutoFocus]="true"
        [appParcelID]="[map.searcher, addition.id]"
        autocomplete="off"
        matInput
        name="id"
        type="text"
        required
      />
      <mat-error *ngIf="parcelID.errors?.duplicate"
        >Parcel ID is a duplicate.
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Acreage</mat-label>
      <input
        #area="ngModel"
        [(ngModel)]="addition.area"
        [step]="0.01"
        autocomplete="off"
        matInput
        name="area"
        type="number"
        required
      />
    </mat-form-field>
  </article>
</form>

<article class="actions">
  <button (click)="cancel()" mat-flat-button>CANCEL</button>

  <button
    [disabled]="additionForm.invalid || !additionForm.dirty"
    color="primary"
    form="additionForm"
    mat-flat-button
    type="submit"
  >
    SAVE
  </button>
</article>
